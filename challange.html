<!DOCTYPE html>
<html>

<head>
	<title>Challange - throw the dices</title>
	<link rel="stylesheet" href="css/challange.css">
</head>

<body>
	<header>
			<p><h1 id="main_header">
			</h1></p>

	</header>
	<main>
		<div id="playground1">
			<h1 id="player1id"></h1>
			<div id="standing1"></div>
			<button id="throw1" type="BUTTON">throw the dices</button>
			<div id="thistory1"></div>
		</div>
		
		<div id="playground2">
			<h1 id="player2id"></h1>
			<div id="standing2"></div>
			<button id="throw2" type="BUTTON">throw the dices</button>
			<div id="thistory2"></div>
		</div>

	</main>

	<!---------------------------------------   S C R I P T   ---------------------------------------------->
	<script>

		sumWin = 0;
		sumLose = 0;
		sumDraw = 0;


	function getPlayers(){
		// var  player1 = prompt("Please enter your name Player1: ");
		// var  player2 = prompt("Please enter your name Player2: ");
		var player1 = "Markus";
		var player2 = "Judith";


		document.getElementById("main_header").innerHTML = player1 + " VS " + player2;
		document.getElementById("player1id").innerHTML = player1;
		document.getElementById("player2id").innerHTML = player2;

		document.getElementById("standing1").innerHTML = "Win: " + sumWin + "<br>Lose: "+sumLose+"<br>Draw: "+sumDraw;
		document.getElementById("standing2").innerHTML = "Win: " + sumWin + "<br>Lose: "+sumLose+"<br>Draw: "+sumDraw;
		return;
	}



	window.addEventListener("load", getPlayers, false);
	document.getElementById("throw1").addEventListener("click", fthrow1, false);
	document.getElementById("throw2").addEventListener("click", fthrow2, false);

	var history1 = new Array;
	var history2 = new Array;
	var winner = new Array;


	function fthrow1(){
		sumWin = 0;
		sumLose = 0;
		sumDraw = 0;
		history1.push([getrand(), getrand(), getrand()]);
		document.getElementById("thistory1").innerHTML = gethistory1(history1);
		document.getElementById("standing1").innerHTML = "Win: " + sumWin + "<br>Lose: "+sumLose+"<br>Draw: "+sumDraw;
		document.getElementById("thistory2").innerHTML = gethistory2(history2);
		document.getElementById("standing2").innerHTML = "Win: " + sumLose + "<br>Lose: "+sumWin+"<br>Draw: "+sumDraw;
	}

	function fthrow2(){
		sumWin = 0;
		sumLose = 0;
		sumDraw = 0;
		history2.push([getrand(), getrand(), getrand()]);
		document.getElementById("thistory2").innerHTML = gethistory2(history2);
		document.getElementById("thistory1").innerHTML = gethistory1(history1);
		document.getElementById("standing1").innerHTML = "Win: " + sumWin + "<br>Lose: "+sumLose+"<br>Draw: "+sumDraw;
		document.getElementById("standing2").innerHTML = "Win: " + sumLose + "<br>Lose: "+sumWin+"<br>Draw: "+sumDraw;
	}

	function getrand(){
		return Math.floor(Math.random() * 6) + 1  ;
	}

	function gethistory1(myhistory){
		var ret_val = "";
		var zwi_sum = 0;
		for(i=0; i < myhistory.length;i++){
			zwi_sum = myhistory[i][0] +  myhistory[i][1] +  myhistory[i][2];
			ret_val += "Throw " + (i+1) + ": " + myhistory[i][0] + ", " + myhistory[i][1] + ", " + myhistory[i][2] + " = " + zwi_sum;
			for(j=i;j < history2.length;j++){
				if ((myhistory[i][0] + myhistory[i][1]+ myhistory[i][2]) < (history2[j][0] +history2[j][1] +history2[j][2])){
					ret_val += 	" You lost! ";
					sumLose += 1;
				}
				else if ((myhistory[i][0] + myhistory[i][1]+ myhistory[i][2]) > (history2[j][0] +history2[j][1] +history2[j][2])){
					ret_val += 	" You win! ";
					sumWin += 1;
				} 
				else {
					ret_val += " Draw!";
					sumDraw +=1;
				}
				break;




			}
			ret_val += "<br>";
		}
			
		return ret_val;
	}

	function gethistory2(myhistory){
		var ret_val = "";
		var zwi_sum = 0;
		for(i=0; i < myhistory.length;i++){
			zwi_sum = myhistory[i][0] +  myhistory[i][1] +  myhistory[i][2];
			ret_val += "Throw " + (i+1) + ": " + myhistory[i][0] + ", " + myhistory[i][1] + ", " + myhistory[i][2] + " = " + zwi_sum;
			for(j=i;j < history1.length;j++){
				if ((myhistory[i][0] + myhistory[i][1]+ myhistory[i][2]) < (history1[j][0] +history1[j][1] +history1[j][2])){
					ret_val += 	" You lost! ";
				}
				else if ((myhistory[i][0] + myhistory[i][1]+ myhistory[i][2]) > (history1[j][0] +history1[j][1] +history1[j][2])){
					ret_val += 	" You win! ";
				} 
				else {
					ret_val += " Draw!";
				}
				break;
			}
			ret_val += "<br>";
		}
			
		return ret_val;
	}
	


</script>	

</body>

</html>